{"version":3,"sources":["jspane.js"],"names":["wrapByGroupIfNeeded","self","pane","axis","group","parentNode","isGroup","className","indexOf","hasRightAxis","dataset","createGroup","replaceElement","append","setDimensions","getDimensions","unwrapFromGroupIfNeeded","hasSingleChildren","children","length","document","createElement","createAnchor","onAnchorMouseDown","anchor","addEventListener","delta","JSON","stringify","getAnchorDelta","event","center","getElementCenter","pageX","pageY","updateAnchorFeedback","treshhold","action","getAnchorAction","a","b","updateSeparatorPanes","separator","axisIndex","axisToIndex","parseFloat","deltaPercentage","getClientProperty","pane1","previousSibling","pane2","nextSibling","pane1Dimensions","pane2Dimensions","runCallback","callbackName","callback","options","callbacks","args","Array","prototype","slice","call","arguments","apply","element","getBoundingClientRect","left","width","top","height","axisWithCapital","charAt","toUpperCase","propertyName","current","toReplace","parent","insertBefore","removeChild","extend","defaults","properties","property","hasOwnProperty","value","defaultOptions","container","size","onPaneCreate","onPaneSplit","onPaneResize","onPaneMerge","onPaneDestroy","Pane","createPane","createSeparator","onSeparatorMouseDown","arrow","style","cursor","target","positionArray","position","initial","this","fn","containerId","querySelector","rootPane","clientX","clientY","parse","split","merge","newPane","currentPaneDimensions","newPaneDimensions","updateGroupDimensions","toRemove","paneDimensions","toRemoveDimensions","dimensions","dimensionsAsString","getGroup","panes","getPanes","sepSize","getSeparatorsSize","subSize","newWidth","newHeight","isChanged","updateDimensions","isGroupNode","i","querySelectorAll","getSeparators","total","separators","setGroupDimensions","arrayOfDimensions","dim","getGroupDimensions","output","push","window"],"mappings":"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","file":"jspane.min.js","sourcesContent":["(function () {\r\n    'use strict';\r\n\r\n    var defaultOptions = {\r\n        container: '#jspane',\r\n        anchor: {\r\n            treshhold: 20\r\n        },\r\n        separator: {\r\n            size: 5\r\n        },\r\n        callbacks: {\r\n            onPaneCreate: null,\r\n            onPaneSplit: null,\r\n            onPaneResize: null,\r\n            onPaneMerge: null,\r\n            onPaneDestroy: null,\r\n        }\r\n    };\r\n\r\n    var Pane = function (options) {\r\n        this.fn = Pane.prototype;\r\n        var self = this;\r\n\r\n        this.options = defaultOptions;\r\n        extend(defaultOptions, options);\r\n\r\n        var containerId = this.options.container;\r\n        this.container = document.querySelector(containerId);\r\n\r\n        this.current = {\r\n            separator: null,\r\n            anchor: null\r\n        };\r\n\r\n        var rootPane = createPane();\r\n        this.container.append(rootPane);\r\n\r\n        document.addEventListener('mousemove', function (event) {\r\n            var delta = 0;\r\n            if (self.current.anchor) {\r\n                var anchor = self.current.anchor;\r\n                delta = getAnchorDelta(anchor, event);\r\n\r\n                anchor.dataset.delta = JSON.stringify(delta);\r\n                updateAnchorFeedback(anchor, delta, self.options.anchor.treshhold);\r\n            }\r\n            if (self.current.separator) {\r\n                var separator = self.current.separator;\r\n                var group = separator.parentNode;\r\n                var axis = group.dataset.axis;\r\n\r\n                var current = [event.clientX, event.clientY];\r\n                var initial = JSON.parse(separator.dataset.initial);\r\n                delta = current[axisToIndex(axis)] - initial;\r\n                separator.dataset.delta = delta;\r\n\r\n                updateSeparatorPanes(self, separator, axis, delta);\r\n                separator.dataset.initial = JSON.stringify(initial + delta);\r\n            }\r\n        });\r\n\r\n        document.addEventListener('mouseup', function (event) {\r\n            if (self.current.separator) self.current.separator = null;\r\n            if (self.current.anchor) {\r\n                var anchor = self.current.anchor;\r\n                var delta = JSON.parse(anchor.dataset.delta);\r\n\r\n                var pane = anchor.parentNode;\r\n                switch (getAnchorAction(delta, self.options.anchor.treshhold)) {\r\n                    case 'left': self.split(pane, 'width'); break;\r\n                    case 'right': self.merge(pane, 'width'); break;\r\n                    case 'up': self.split(pane, 'height'); break;\r\n                    case 'down': self.merge(pane, 'height'); break;\r\n                }\r\n\r\n                self.current.anchor = null;\r\n            }\r\n        });\r\n\r\n        this.split = function (pane, axis) {\r\n            var group = wrapByGroupIfNeeded(self, pane, axis);\r\n            var newPane = createPane();\r\n            var separator = createSeparator(self.options.separator.size, axis);\r\n\r\n            var axisIndex = axisToIndex(axis);\r\n            var currentPaneDimensions = self.getDimensions(pane);\r\n            var newPaneDimensions = self.getDimensions(newPane);\r\n            newPaneDimensions[axisIndex] = currentPaneDimensions[axisIndex] / 2.0;\r\n            currentPaneDimensions[axisIndex] = currentPaneDimensions[axisIndex] / 2.0;\r\n\r\n            group.insertBefore(newPane, pane.nextSibling);\r\n            group.insertBefore(separator, pane.nextSibling);\r\n\r\n            self.setDimensions(pane, currentPaneDimensions);\r\n            self.setDimensions(newPane, newPaneDimensions);\r\n            self.updateGroupDimensions(group);\r\n            runCallback(self, 'onPaneSplit', pane, newPane);\r\n        };\r\n\r\n        this.merge = function (pane, axis) {\r\n            if (pane.nextSibling) {\r\n                var group = pane.parentNode;\r\n                if (group.dataset.axis === axis) {\r\n                    var toRemove = pane.nextSibling.nextSibling;\r\n                    runCallback(self, 'onPaneMerge', pane, toRemove);\r\n                    runCallback(self, 'onPaneDestroy', toRemove);\r\n\r\n                    var paneDimensions = self.getDimensions(pane);\r\n                    var toRemoveDimensions = self.getDimensions(toRemove);\r\n\r\n                    group.removeChild(pane.nextSibling);\r\n                    group.removeChild(pane.nextSibling);\r\n\r\n                    var axisIndex = axisToIndex(axis);\r\n                    paneDimensions[axisIndex] += toRemoveDimensions[axisIndex];\r\n                    self.setDimensions(pane, paneDimensions);\r\n\r\n                    unwrapFromGroupIfNeeded(self, pane, axis);\r\n                    self.updateGroupDimensions(pane.parentNode);\r\n                }\r\n            }\r\n        };\r\n\r\n        function createPane () {\r\n            var pane = document.createElement('div');\r\n            pane.className = 'pane';\r\n            pane.append(createAnchor(onAnchorMouseDown));\r\n            runCallback(self, 'onPaneCreate', pane);\r\n            self.setDimensions(pane, [100, 100]);\r\n            return pane;\r\n        }\r\n\r\n        function createSeparator (size, axis) {\r\n            var separator = document.createElement('div');\r\n            separator.addEventListener('mousedown', onSeparatorMouseDown);\r\n            var arrow = axisToIndex(axis) ? 'ns' : 'ew';\r\n            separator.style.cursor = arrow + '-resize';\r\n            separator.className = 'pane-separator';\r\n            separator.style[axis] = size + 'px';\r\n            return separator;\r\n        }\r\n\r\n        function onAnchorMouseDown (event) {\r\n            self.current.anchor = event.target;\r\n        }\r\n\r\n        function onSeparatorMouseDown (event) {\r\n            var separator = event.target;\r\n            self.current.separator = separator;\r\n            var group = separator.parentNode;\r\n            var axis = group.dataset.axis;\r\n            var positionArray = [event.pageX, event.pageY];\r\n            var position = positionArray[axisToIndex(axis)];\r\n            separator.dataset.initial = JSON.stringify(position);\r\n        }\r\n    };\r\n\r\n    Pane.prototype.setDimensions = function (pane, dimensions) {\r\n        var dimensionsAsString = JSON.stringify(dimensions);\r\n        pane.dataset.dimensions = dimensionsAsString;\r\n\r\n        var group = this.getGroup(pane);\r\n        if (group === null) {\r\n            pane.style.width = 'calc(100% - 0px)';\r\n            pane.style.height = 'calc(100% - 0px)';\r\n            runCallback(this, 'onPaneResize', pane);\r\n        } else {\r\n            var panes = this.getPanes(group);\r\n            var sepSize = this.getSeparatorsSize(group);\r\n            var axis = group.dataset.axis;\r\n\r\n            var subSize = [0, 0];\r\n            if (panes.length > 0)\r\n                subSize[axisToIndex(axis)] = (sepSize / panes.length);\r\n            var newWidth = 'calc(' + dimensions[0] + '% - ' + subSize[0] + 'px)';\r\n            var newHeight = 'calc(' + dimensions[1] + '% - ' + subSize[1] + 'px)';\r\n            var isChanged = (pane.style.width != newWidth) ||\r\n                (pane.style.height != newHeight);\r\n            pane.style.width = newWidth;\r\n            pane.style.height = newHeight;\r\n            if (isChanged) runCallback(this, 'onPaneResize', pane);\r\n        }\r\n    };\r\n\r\n    Pane.prototype.updateDimensions = function (pane) {\r\n        this.setDimensions(pane, this.getDimensions(pane));\r\n    };\r\n\r\n    Pane.prototype.getDimensions = function (pane) {\r\n        return JSON.parse(pane.dataset.dimensions);\r\n    };\r\n\r\n    Pane.prototype.getGroup = function (pane) {\r\n        var parent = pane.parentNode;\r\n        if (parent) {\r\n            var isGroupNode = parent.className.indexOf('pane-group') != -1;\r\n            if (isGroupNode) return parent;\r\n        }\r\n        return null;\r\n    };\r\n\r\n    Pane.prototype.updateGroupDimensions = function (group) {\r\n        var panes = this.getPanes(group);\r\n        for (var i = 0; i < panes.length; i++)\r\n            this.updateDimensions(panes[i]);\r\n    };\r\n\r\n    Pane.prototype.getPanes = function (group) {\r\n        return group.querySelectorAll(':scope > .pane');\r\n    };\r\n\r\n    Pane.prototype.getSeparators = function (group) {\r\n        return group.querySelectorAll(':scope > .pane-separator');\r\n    };\r\n\r\n    Pane.prototype.getSeparatorsSize = function (group) {\r\n        if (!group) return 0;\r\n        var total = 0;\r\n        var axis = group.dataset.axis;\r\n        var separators = this.getSeparators(group);\r\n        for (var i = 0; i < separators.length; i++)\r\n            total += getClientProperty(separators[i], axis);\r\n        return total;\r\n    };\r\n\r\n    Pane.prototype.setGroupDimensions = function (group, arrayOfDimensions) {\r\n        var axis = group.dataset.axis;\r\n        var panes = this.getPanes(group);\r\n        var axisIndex = axisToIndex(axis);\r\n        for (var i = 0; i < panes.length; i++) {\r\n            var pane = panes[i];\r\n            var dim = this.getDimensions(pane);\r\n            dim[axisIndex] = arrayOfDimensions[i];\r\n            this.setDimensions(pane, dim);\r\n        }\r\n    };\r\n\r\n    Pane.prototype.getGroupDimensions = function (group) {\r\n        var output = [];\r\n        var axis = group.dataset.axis;\r\n        var panes = this.getPanes(group);\r\n        var axisIndex = axisToIndex(axis);\r\n        for (var i = 0; i < panes.length; i++) {\r\n            var pane = panes[i];\r\n            var dim = this.getDimensions(pane);\r\n            output.push(dim[axisIndex]);\r\n        }\r\n        return output;\r\n    };\r\n\r\n    window.Pane = Pane;\r\n\r\n    function wrapByGroupIfNeeded (self, pane, axis) {\r\n        var group = pane.parentNode;\r\n        var isGroup = group.className.indexOf('pane-group') != -1;\r\n        var hasRightAxis = group.dataset.axis === axis;\r\n        if (!isGroup || !hasRightAxis) {\r\n            group = createGroup(axis);\r\n            replaceElement(pane, group);\r\n            group.append(pane);\r\n            self.setDimensions(group, self.getDimensions(pane));\r\n            self.setDimensions(pane, [100, 100]);\r\n        }\r\n        return group;\r\n    }\r\n\r\n    function unwrapFromGroupIfNeeded (self, pane, axis) {\r\n        var group = pane.parentNode;\r\n        var isGroup = group.className.indexOf('pane-group') != -1;\r\n        var hasSingleChildren = group.children.length === 1;\r\n        if (isGroup && hasSingleChildren) {\r\n            self.setDimensions(pane, self.getDimensions(group));\r\n            replaceElement(group, pane);\r\n        }\r\n    }\r\n\r\n    function createGroup (axis) {\r\n        var group = document.createElement('div');\r\n        group.className = 'pane pane-group';\r\n        group.dataset.axis = axis;\r\n        return group;\r\n    }\r\n\r\n    function createAnchor (onAnchorMouseDown) {\r\n        var anchor = document.createElement('div');\r\n        anchor.className = 'pane-anchor';\r\n        anchor.addEventListener('mousedown', onAnchorMouseDown);\r\n        anchor.dataset.delta = JSON.stringify([0, 0]);\r\n        return anchor;\r\n    }\r\n\r\n    function getAnchorDelta (anchor, event) {\r\n        var center = getElementCenter(anchor);\r\n        return [center[0] - event.pageX, center[1] - event.pageY];\r\n    }\r\n\r\n    function updateAnchorFeedback (anchor, delta, treshhold) {\r\n        var action = getAnchorAction(delta, treshhold);\r\n        anchor.className = 'pane-anchor';\r\n        if (action) anchor.className += ' action-' + action;\r\n    }\r\n\r\n    function getAnchorAction (delta, treshhold) {\r\n        if (delta[0] > treshhold || delta[1] > treshhold) {\r\n            var a = delta[0] >= delta[1];\r\n            var b = delta[0] >= -delta[1];\r\n            if (a && b) return 'left';\r\n            if (!a && !b) return 'right';\r\n            if (!a && b) return 'up';\r\n            if (a && !b) return 'down';\r\n        } else return '';\r\n    }\r\n\r\n    function updateSeparatorPanes (self, separator, axis) {\r\n        var group = separator.parentNode;\r\n        var axisIndex = axisToIndex(axis);\r\n        var delta = parseFloat(separator.dataset.delta);\r\n        var deltaPercentage = delta *100 / getClientProperty(group, axis);\r\n        var pane1 = separator.previousSibling;\r\n        var pane2 = separator.nextSibling;\r\n        var pane1Dimensions = self.getDimensions(pane1);\r\n        var pane2Dimensions = self.getDimensions(pane2);\r\n        pane1Dimensions[axisIndex] += deltaPercentage;\r\n        pane2Dimensions[axisIndex] -= deltaPercentage;\r\n        self.setDimensions(pane1, pane1Dimensions);\r\n        self.setDimensions(pane2, pane2Dimensions);\r\n    }\r\n\r\n    function runCallback (self, callbackName) {\n        var callback = self.options.callbacks[callbackName];\r\n        if (callback) {\r\n            var args = Array.prototype.slice.call(arguments, 2);\r\n            callback.apply(null, args);\r\n        }\r\n    }\r\n\r\n    function getElementCenter (element) {\r\n        var b = element.getBoundingClientRect();\r\n        return [b.left + (b.width / 2), b.top + (b.height / 2)];\r\n    }\r\n\r\n    function getClientProperty (element, axis) {\r\n        var axisWithCapital = axis.charAt(0).toUpperCase() + axis.slice(1);\r\n        var propertyName = 'client' + axisWithCapital;\r\n        return element[propertyName];\r\n    }\r\n\r\n    function replaceElement (current, toReplace) {\r\n        var parent = current.parentNode;\r\n        parent.insertBefore(toReplace, current);\r\n        parent.removeChild(current);\r\n    }\r\n\r\n    function axisToIndex (axis) {\r\n        if (axis === 'width') return 0;\r\n        else if (axis === 'height') return 1;\r\n    }\r\n\r\n    function extend (defaults, properties) {\r\n        for (var property in properties)\r\n            if (property && properties.hasOwnProperty(property)) {\r\n                var value = properties[property];\r\n                if (typeof value === 'object')\r\n                    extend(defaults[property], properties[property]);\r\n                else\r\n                    defaults[property] = properties[property];\r\n            }\r\n    }\r\n})();\r\n"]}