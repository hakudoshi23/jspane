!function(){"use strict";function e(e,t,i){var a=t.parentNode,r=a.className.indexOf("pane-group")!=-1,s=a.dataset.axis===i;return r&&s||(a=n(i),l(t,a),a.append(t),e.setDimensions(a,e.getDimensions(t)),e.setDimensions(t,[100,100])),a}function t(e,t,n){var i=t.parentNode,a=i.className.indexOf("pane-group")!=-1,r=1===i.children.length;a&&r&&(e.setDimensions(t,e.getDimensions(i)),l(i,t))}function n(e){var t=document.createElement("div");return t.className="pane pane-group",t.dataset.axis=e,t}function i(e){var t=document.createElement("div");return t.className="pane-anchor",t.addEventListener("mousedown",e),t.dataset.delta=JSON.stringify([0,0]),t}function a(e,t){var n=c(e);return[n[0]-t.pageX,n[1]-t.pageY]}function r(e,t,n){var i=s(t,n);e.className="pane-anchor",i&&(e.className+=" action-"+i)}function s(e,t){if(!(e[0]>t||e[1]>t))return"";var n=e[0]>=e[1],i=e[0]>=-e[1];return n&&i?"left":n||i?!n&&i?"up":n&&!i?"down":void 0:"right"}function o(e,t,n){var i=t.parentNode,a=d(n),r=parseFloat(t.dataset.delta),s=100*r/u(i,n),o=t.previousSibling,p=t.nextSibling,c=e.getDimensions(o),l=e.getDimensions(p);c[a]+=s,l[a]-=s,e.setDimensions(o,c),e.setDimensions(p,l)}function p(e,t){var n=e.options.callbacks[t];if(n){var i=Array.prototype.slice.call(arguments,2);n.apply(null,i)}}function c(e){var t=e.getBoundingClientRect();return[t.left+t.width/2,t.top+t.height/2]}function u(e,t){var n=t.charAt(0).toUpperCase()+t.slice(1),i="client"+n;return e[i]}function l(e,t){var n=e.parentNode;n.insertBefore(t,e),n.removeChild(e)}function d(e){return"width"===e?0:"height"===e?1:void 0}function h(e,t){for(var n in t)if(n&&t.hasOwnProperty(n)){var i=t[n];"object"==typeof i?h(e[n],t[n]):e[n]=t[n]}}var g={container:"#jspane",anchor:{treshhold:20},separator:{size:5},callbacks:{onPaneCreate:null,onPaneSplit:null,onPaneResize:null,onPaneMerge:null,onPaneDestroy:null}},f=function(n){function c(){var e=document.createElement("div");return e.className="pane",e.append(i(l)),p(v,"onPaneCreate",e),v.setDimensions(e,[100,100]),e}function u(e,t){var n=document.createElement("div");n.addEventListener("mousedown",m);var i=d(t)?"ns":"ew";return n.style.cursor=i+"-resize",n.className="pane-separator",n.style[t]=e+"px",n}function l(e){v.current.anchor=e.target}function m(e){var t=e.target;v.current.separator=t;var n=t.parentNode,i=n.dataset.axis,a=[e.pageX,e.pageY],r=a[d(i)];t.dataset.initial=JSON.stringify(r)}this.fn=f.prototype;var v=this;this.options=g,h(g,n);var y=this.options.container;this.container=document.querySelector(y),this.current={separator:null,anchor:null};var D=c();this.container.append(D),document.addEventListener("mousemove",function(e){var t=0;if(v.current.anchor){var n=v.current.anchor;t=a(n,e),n.dataset.delta=JSON.stringify(t),r(n,t,v.options.anchor.treshhold)}if(v.current.separator){var i=v.current.separator,s=i.parentNode,p=s.dataset.axis,c=[e.clientX,e.clientY],u=JSON.parse(i.dataset.initial);t=c[d(p)]-u,i.dataset.delta=t,o(v,i,p,t),i.dataset.initial=JSON.stringify(u+t)}}),document.addEventListener("mouseup",function(e){if(v.current.separator&&(v.current.separator=null),v.current.anchor){var t=v.current.anchor,n=JSON.parse(t.dataset.delta),i=t.parentNode;switch(s(n,v.options.anchor.treshhold)){case"left":v.split(i,"width");break;case"right":v.merge(i,"width");break;case"up":v.split(i,"height");break;case"down":v.merge(i,"height")}v.current.anchor=null}}),this.split=function(t,n){var i=e(v,t,n),a=c(),r=u(v.options.separator.size,n),s=d(n),o=v.getDimensions(t),l=v.getDimensions(a);l[s]=o[s]/2,o[s]=o[s]/2,i.insertBefore(a,t.nextSibling),i.insertBefore(r,t.nextSibling),v.setDimensions(t,o),v.setDimensions(a,l),v.updateGroupDimensions(i),p(v,"onPaneSplit",t,a)},this.merge=function(e,n){if(e.nextSibling){var i=e.parentNode;if(i.dataset.axis===n){var a=e.nextSibling.nextSibling;p(v,"onPaneMerge",e,a),p(v,"onPaneDestroy",a);var r=v.getDimensions(e),s=v.getDimensions(a);i.removeChild(e.nextSibling),i.removeChild(e.nextSibling);var o=d(n);r[o]+=s[o],v.setDimensions(e,r),t(v,e,n),v.updateGroupDimensions(e.parentNode)}}}};f.prototype.setDimensions=function(e,t){var n=JSON.stringify(t);e.dataset.dimensions=n;var i=this.getGroup(e);if(null===i)e.style.width="calc(100% - 0px)",e.style.height="calc(100% - 0px)",p(this,"onPaneResize",e);else{var a=this.getPanes(i),r=this.getSeparatorsSize(i),s=i.dataset.axis,o=[0,0];a.length>0&&(o[d(s)]=r/a.length);var c="calc("+t[0]+"% - "+o[0]+"px)",u="calc("+t[1]+"% - "+o[1]+"px)",l=e.style.width!=c||e.style.height!=u;e.style.width=c,e.style.height=u,l&&p(this,"onPaneResize",e)}},f.prototype.updateDimensions=function(e){this.setDimensions(e,this.getDimensions(e))},f.prototype.getDimensions=function(e){return JSON.parse(e.dataset.dimensions)},f.prototype.getGroup=function(e){var t=e.parentNode;if(t){var n=t.className.indexOf("pane-group")!=-1;if(n)return t}return null},f.prototype.updateGroupDimensions=function(e){for(var t=this.getPanes(e),n=0;n<t.length;n++)this.updateDimensions(t[n])},f.prototype.getPanes=function(e){return e.querySelectorAll(":scope > .pane")},f.prototype.getSeparators=function(e){return e.querySelectorAll(":scope > .pane-separator")},f.prototype.getSeparatorsSize=function(e){if(!e)return 0;for(var t=0,n=e.dataset.axis,i=this.getSeparators(e),a=0;a<i.length;a++)t+=u(i[a],n);return t},f.prototype.setGroupDimensions=function(e,t){for(var n=e.dataset.axis,i=this.getPanes(e),a=d(n),r=0;r<i.length;r++){var s=i[r],o=this.getDimensions(s);o[a]=t[r],this.setDimensions(s,o)}},f.prototype.getGroupDimensions=function(e){for(var t=[],n=e.dataset.axis,i=this.getPanes(e),a=d(n),r=0;r<i.length;r++){var s=i[r],o=this.getDimensions(s);t.push(o[a])}return t},window.Pane=f}();
//# sourceMappingURL=jspane.min.js.map
