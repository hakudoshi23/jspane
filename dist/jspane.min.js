!function(){"use strict";function e(e,t,r){var i=t.parentNode,a=i.className.indexOf("pane-group")!=-1,s=i.dataset.axis===r;return a&&s||(i=n(r),d(t,i),i.append(t),e.setDimensions(i,e.getDimensions(t)),e.setDimensions(t,[100,100])),i}function t(e,t,n){var r=t.parentNode,i=r.className.indexOf("pane-group")!=-1,a=1===r.children.length;i&&a&&(e.setDimensions(t,e.getDimensions(r)),d(r,t))}function n(e){var t=document.createElement("div");return t.className="pane pane-group",t.dataset.axis=e,t}function r(e){var t=document.createElement("div");return t.className="pane-anchor",t.addEventListener("mousedown",e),t.dataset.delta=JSON.stringify([0,0]),t}function i(e,t){var n=c(e);return[n[0]-t.pageX,n[1]-t.pageY]}function a(e,t,n){var r=s(t,n);e.style.backgroundColor=r}function s(e,t){switch(o(e,t)){case"left":return"#000000";case"right":return"#FF0000";case"up":return"#00FF00";case"down":return"#0000FF";default:return""}}function o(e,t){return e[0]>+t?"left":e[0]<-t?"right":e[1]>+t?"up":e[1]<-t?"down":""}function u(e,t,n){var r=t.parentNode,i=h(n),a=parseFloat(t.dataset.delta),s=100*a/l(r,n),o=t.previousSibling,u=t.nextSibling,p=e.getDimensions(o),c=e.getDimensions(u);p[i]+=s,c[i]-=s,e.setDimensions(o,p),e.setDimensions(u,c)}function p(e){e&&e()}function c(e){var t=e.getBoundingClientRect();return[t.left+t.width/2,t.top+t.height/2]}function l(e,t){var n=t.charAt(0).toUpperCase()+t.slice(1),r="client"+n;return e[r]}function d(e,t){var n=e.parentNode;n.insertBefore(t,e),n.removeChild(e)}function h(e){return"width"===e?0:"height"===e?1:void 0}function g(e,t){e=e||{};for(var n in t)if(t.hasOwnProperty(n)&&!e[n]){var r=t[n];"object"==typeof r?g(e[n],t[n]):e[n]=t[n]}return e}var f={container:"#jspane",anchor:{treshhold:10},separator:{size:5},events:{onPaneCreate:null,onPaneResized:null,onPaneDestroy:null}},m=function(n){function s(){var e=document.createElement("div");return e.className="pane",v.setDimensions(e,[100,100]),e.append(r(l)),p(v.options.events.onPaneCreate),e}function c(e,t){var n=document.createElement("div");n.addEventListener("mousedown",d);var r=h(t)?"ns":"ew";return n.style.cursor=r+"-resize",n.className="pane-separator",n.style[t]=e+"px",n}function l(e){v.current.anchor=e.target}function d(e){var t=e.target;v.current.separator=t;var n=t.parentNode,r=n.dataset.axis,i=[e.pageX,e.pageY],a=i[h(r)];t.dataset.initial=JSON.stringify(a)}this.fn=m.prototype;var v=this;this.options=g(f,n);var D=this.options.container;this.container=document.querySelector(D),this.current={separator:null,anchor:null};var y=s();this.container.append(y),document.addEventListener("mousemove",function(e){var t=0;if(v.current.anchor){var n=v.current.anchor;t=i(n,e),n.dataset.delta=JSON.stringify(t),a(n,t,v.options.anchor.treshhold)}if(v.current.separator){var r=v.current.separator,s=r.parentNode,o=s.dataset.axis,p=[e.clientX,e.clientY],c=JSON.parse(r.dataset.initial);t=p[h(o)]-c,r.dataset.delta=t,u(v,r,o,t),r.dataset.initial=JSON.stringify(c+t)}}),document.addEventListener("mouseup",function(e){if(v.current.separator&&(v.current.separator=null),v.current.anchor){var t=v.current.anchor,n=JSON.parse(t.dataset.delta),r=t.parentNode;switch(o(n,v.options.anchor.treshhold)){case"left":v.split(r,"width");break;case"right":v.merge(r,"width");break;case"up":v.split(r,"height");break;case"down":v.merge(r,"height")}v.current.anchor=null}}),this.split=function(t,n){var r=e(v,t,n),i=s(),a=c(v.options.separator.size,n),o=h(n),u=v.getDimensions(t),l=v.getDimensions(i);l[o]=u[o]/2,u[o]=u[o]/2,r.insertBefore(i,t.nextSibling),r.insertBefore(a,t.nextSibling),v.setDimensions(t,u),v.setDimensions(i,l),v.updateGroupDimensions(r),p(v.options.events.onPaneCreate,i)},this.merge=function(e,n){if(e.nextSibling){var r=e.parentNode;if(r.dataset.axis===n){var i=e.nextSibling.nextSibling;p(v.options.events.onPaneDestroy,i);var a=v.getDimensions(e),s=v.getDimensions(i);r.removeChild(e.nextSibling),r.removeChild(e.nextSibling);var o=h(n);a[o]+=s[o],v.setDimensions(e,a),t(v,e,n),v.updateGroupDimensions(e.parentNode)}}}};m.prototype.setDimensions=function(e,t){var n=JSON.stringify(t);e.dataset.dimensions=n;var r=this.getGroup(e);if(null===r)e.style.width="calc(100% - 0px)",e.style.height="calc(100% - 0px)";else{var i=this.getPanes(r),a=this.getSeparatorsSize(r),s=r.dataset.axis,o=[0,0];i.length>0&&(o[h(s)]=a/i.length),e.style.width="calc("+t[0]+"% - "+o[0]+"px)",e.style.height="calc("+t[1]+"% - "+o[1]+"px)"}},m.prototype.updateDimensions=function(e){this.setDimensions(e,this.getDimensions(e))},m.prototype.getDimensions=function(e){return JSON.parse(e.dataset.dimensions)},m.prototype.getGroup=function(e){var t=e.parentNode;if(t){var n=t.className.indexOf("pane-group")!=-1;if(n)return t}return null},m.prototype.updateGroupDimensions=function(e){for(var t=this.getPanes(e),n=0;n<t.length;n++)this.updateDimensions(t[n])},m.prototype.getPanes=function(e){return e.querySelectorAll(":scope > .pane")},m.prototype.getSeparators=function(e){return e.querySelectorAll(":scope > .pane-separator")},m.prototype.getSeparatorsSize=function(e){if(!e)return 0;for(var t=0,n=e.dataset.axis,r=this.getSeparators(e),i=0;i<r.length;i++)t+=l(r[i],n);return t},m.prototype.setGroupDimensions=function(e,t){for(var n=e.dataset.axis,r=this.getPanes(e),i=h(n),a=0;a<r.length;a++){var s=r[a],o=this.getDimensions(s);o[i]=t[a],this.setDimensions(s,o)}},m.prototype.getGroupDimensions=function(e){for(var t=[],n=e.dataset.axis,r=this.getPanes(e),i=h(n),a=0;a<r.length;a++){var s=r[a],o=this.getDimensions(s);t.push(o[i])}return t},window.Pane=m}();
//# sourceMappingURL=jspane.min.js.map
